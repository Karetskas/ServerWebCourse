"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[528],{6528:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var o=s(3272),i=s(6190),l=s(2240),r=s(573),n=(s(7658),s(7069)),a=s(144),h=a.ZP.extend({name:"rippleable",directives:{ripple:n.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),d=s(6174),c=s(7678);function u(e){e.preventDefault()}var m=(0,c.Z)(r.Z,h,d.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some((t=>this.valueComparator(t,e))):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=r.Z.options.methods.genLabel.call(this);return e?(e.data.on={click:u},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:u},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const s=t.length;t=t.filter((t=>!this.valueComparator(t,e))),t.length===s&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}}),p=m.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...r.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(e){this.$nextTick((()=>this.inputIndeterminate=e))},inputIndeterminate(e){this.$emit("update:indeterminate",e)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(l.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...t,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),x=s(266),g=s(2118),b=s(1713),F=s(9780),f=function(){var e=this,t=e._self._c;return t(g.Z,{staticClass:"pa-0",attrs:{"fill-height":"",fluid:""}},[t(b.Z,[t(x.Z,[t("h1",{staticClass:"text-center deep-purple--text text--darken-1"},[e._v("Add contact")])])],1),t(b.Z,{staticClass:"d-flex justify-center"},[t(x.Z,{staticClass:"py-0 col-sm-8 col-11"},[t(o.Z,{staticClass:"d-flex",attrs:{content:e.charactersInFirstNameCount,color:e.colorFirstName,overlap:"","offset-x":"62","offset-y":"58",value:"true"}},[t(F.Z,{staticClass:"text-field-border-color text-field-color font-weight-black",attrs:{rules:e.rulesForTextField,"error-messages":e.firstNameTextField.errorMessage,outlined:"",dense:"",label:"First name",placeholder:"Enter first name...",color:"deep-purple darken-5","background-color":"indigo lighten-5",maxlength:"255"},scopedSlots:e._u([{key:"message",fn:function({message:s}){return[t("div",{staticClass:"text-subtitle-2 font-weight-bold text-center fixed-width-message"},[e._v(" "+e._s(s)+" ")])]}}]),model:{value:e.firstNameTextField.text,callback:function(t){e.$set(e.firstNameTextField,"text",t)},expression:"firstNameTextField.text"}})],1)],1)],1),t(b.Z,{staticClass:"d-flex justify-center"},[t(x.Z,{staticClass:"py-0 col-sm-8 col-11"},[t(o.Z,{staticClass:"d-flex",attrs:{content:e.charactersInLastNameCount,color:e.colorLastName,overlap:"","offset-x":"62","offset-y":"58",value:"true"}},[t(F.Z,{staticClass:"text-field-border-color text-field-color font-weight-black",attrs:{rules:e.rulesForTextField,"error-messages":e.lastNameTextField.errorMessage,outlined:"",dense:"",label:"Last name",placeholder:"Enter last name...",color:"deep-purple darken-5","background-color":"indigo lighten-5",maxlength:"255"},scopedSlots:e._u([{key:"message",fn:function({message:s}){return[t("div",{staticClass:"text-subtitle-2 font-weight-bold text-center fixed-width-message"},[e._v(" "+e._s(s)+" ")])]}}]),model:{value:e.lastNameTextField.text,callback:function(t){e.$set(e.lastNameTextField,"text",t)},expression:"lastNameTextField.text"}})],1)],1)],1),t(b.Z,{staticClass:"d-flex justify-center"},[t(x.Z,{staticClass:"py-0 col-sm-8 col-11"},[t(o.Z,{staticClass:"d-flex badge-for-phone-number",attrs:{content:e.charactersInHomePhoneCount,color:e.colorHomePhone,overlap:"","offset-x":"62","offset-y":"58",value:"true"}},[t(p,{staticClass:"pt-0 pr-1 mt-3",attrs:{disabled:e.isDisabledCheckBoxHomePhone,color:"deep-purple accent-3"},model:{value:e.homePhoneTextField.disabled,callback:function(t){e.$set(e.homePhoneTextField,"disabled",t)},expression:"homePhoneTextField.disabled"}}),t(F.Z,{staticClass:"text-field-border-color text-field-color font-weight-black",attrs:{rules:[...e.rulesForPhoneNumber,...e.rulesForTextField],"error-messages":e.homePhoneTextField.errorMessage,disabled:!e.homePhoneTextField.disabled,outlined:"",dense:"",label:"Home phone",placeholder:"Enter your home phone number...",color:"deep-purple darken-5","background-color":"indigo lighten-5",maxlength:"255"},scopedSlots:e._u([{key:"message",fn:function({message:s}){return[t("div",{staticClass:"text-subtitle-2 font-weight-bold text-center fixed-width-message"},[e._v(" "+e._s(s)+" ")])]}}]),model:{value:e.homePhoneTextField.phone,callback:function(t){e.$set(e.homePhoneTextField,"phone",t)},expression:"homePhoneTextField.phone"}})],1)],1)],1),t(b.Z,{staticClass:"d-flex justify-center"},[t(x.Z,{staticClass:"py-0 col-sm-8 col-11"},[t(o.Z,{staticClass:"d-flex badge-for-phone-number",attrs:{content:e.charactersInWorkPhoneCount,color:e.colorWorkPhone,overlap:"","offset-x":"62","offset-y":"58",value:"true"}},[t(p,{staticClass:"pt-0 pr-1 mt-3",attrs:{disabled:e.isDisabledCheckBoxWorkPhone,color:"deep-purple accent-3"},model:{value:e.workPhoneTextField.disabled,callback:function(t){e.$set(e.workPhoneTextField,"disabled",t)},expression:"workPhoneTextField.disabled"}}),t(F.Z,{staticClass:"text-field-border-color text-field-color font-weight-black",attrs:{rules:[...e.rulesForPhoneNumber,...e.rulesForTextField],"error-messages":e.workPhoneTextField.errorMessage,disabled:!e.workPhoneTextField.disabled,outlined:"",dense:"",label:"Work phone",placeholder:"Enter your work phone number...",color:"deep-purple darken-5","background-color":"indigo lighten-5",maxlength:"255"},scopedSlots:e._u([{key:"message",fn:function({message:s}){return[t("div",{staticClass:"text-subtitle-2 font-weight-bold text-center fixed-width-message"},[e._v(" "+e._s(s)+" ")])]}}]),model:{value:e.workPhoneTextField.phone,callback:function(t){e.$set(e.workPhoneTextField,"phone",t)},expression:"workPhoneTextField.phone"}})],1)],1)],1),t(b.Z,{staticClass:"d-flex justify-center"},[t(x.Z,{staticClass:"py-0 col-sm-8 col-11"},[t(o.Z,{staticClass:"d-flex badge-for-phone-number",attrs:{content:e.charactersInMobilePhoneCount,color:e.colorMobilePhone,overlap:"","offset-x":"62","offset-y":"58",value:"true"}},[t(p,{staticClass:"pt-0 pr-1 mt-3",attrs:{disabled:e.isDisabledCheckBoxMobilePhone,color:"deep-purple accent-3"},model:{value:e.mobilePhoneTextField.disabled,callback:function(t){e.$set(e.mobilePhoneTextField,"disabled",t)},expression:"mobilePhoneTextField.disabled"}}),t(F.Z,{staticClass:"text-field-border-color text-field-color font-weight-black",attrs:{rules:[...e.rulesForPhoneNumber,...e.rulesForTextField],"error-messages":e.mobilePhoneTextField.errorMessage,disabled:!e.mobilePhoneTextField.disabled,outlined:"",dense:"",label:"Mobile phone",placeholder:"Enter your mobile phone number...",color:"deep-purple darken-5","background-color":"indigo lighten-5",maxlength:"255"},scopedSlots:e._u([{key:"message",fn:function({message:s}){return[t("div",{staticClass:"text-subtitle-2 font-weight-bold text-center fixed-width-message"},[e._v(" "+e._s(s)+" ")])]}}]),model:{value:e.mobilePhoneTextField.phone,callback:function(t){e.$set(e.mobilePhoneTextField,"phone",t)},expression:"mobilePhoneTextField.phone"}})],1)],1)],1),t(b.Z,[t(x.Z,{staticClass:"text-center py-0 mb-5"},[t(i.Z,{staticClass:"indigo lighten-4 deep-purple--text text--darken-1 font-weight-black",attrs:{disabled:e.areInvalidContactFields,elevation:"5",large:""},on:{click:e.addContact}},[e._v(" Add contact ")])],1)],1)],1)},T=[],P={data(){return{onePercent255:100/255,firstNameTextField:{text:"",errorMessage:""},lastNameTextField:{text:"",errorMessage:""},rulesForTextField:[e=>!e?.startsWith(" ")||"Space at the beginning of the line!",e=>!e?.endsWith(" ")||"Space at the end of the line!"],rulesForPhoneNumber:[e=>!/[^0-9-+.() ]/.test(e)||"Allowed characters: (, ), +, -, 0-9, dots and spaces!",e=>!(!/[0-9]+/.test(e)&&0!==e?.length)||"The phone number must contain at least 1 digit!"],homePhoneTextField:{phone:"",phoneType:"Home",disabled:!0,errorMessage:""},workPhoneTextField:{phone:"",phoneType:"Work",disabled:!1,errorMessage:""},mobilePhoneTextField:{phone:"",phoneType:"Mobile",disabled:!1,errorMessage:""}}},computed:{charactersInFirstNameCount(){return this.firstNameTextField.text.length+" / 255"},charactersInLastNameCount(){return this.lastNameTextField.text.length+" / 255"},charactersInHomePhoneCount(){return this.homePhoneTextField.phone.length+" / 255"},charactersInWorkPhoneCount(){return this.workPhoneTextField.phone.length+" / 255"},charactersInMobilePhoneCount(){return this.mobilePhoneTextField.phone.length+" / 255"},progressFirstName(){return this.getProgress(this.firstNameTextField.text.length)},progressLastName(){return this.getProgress(this.lastNameTextField.text.length)},progressHomePhone(){return this.getProgress(this.homePhoneTextField.phone.length)},progressWorkPhone(){return this.getProgress(this.workPhoneTextField.phone.length)},progressMobilePhone(){return this.getProgress(this.mobilePhoneTextField.phone.length)},colorFirstName(){return this.getColor(this.firstNameTextField.text.length)},colorLastName(){return this.getColor(this.lastNameTextField.text.length)},isDisabledCheckBoxHomePhone(){return 1===this.countActiveTextFields&&this.homePhoneTextField.disabled},isDisabledCheckBoxWorkPhone(){return 1===this.countActiveTextFields&&this.workPhoneTextField.disabled},isDisabledCheckBoxMobilePhone(){return 1===this.countActiveTextFields&&this.mobilePhoneTextField.disabled},colorHomePhone(){return this.homePhoneTextField.disabled?this.getColor(this.homePhoneTextField.phone.length):"grey darken-1"},colorWorkPhone(){return this.workPhoneTextField.disabled?this.getColor(this.workPhoneTextField.phone.length):"grey darken-1"},colorMobilePhone(){return this.mobilePhoneTextField.disabled?this.getColor(this.mobilePhoneTextField.phone.length):"grey darken-1"},countActiveTextFields(){return this.homePhoneTextField.disabled+this.workPhoneTextField.disabled+this.mobilePhoneTextField.disabled},areInvalidContactFields(){const e=[this.firstNameTextField.text,this.lastNameTextField.text,this.homePhoneTextField.phone,this.workPhoneTextField.phone,this.mobilePhoneTextField.phone];return""===this.firstNameTextField.text||this.firstNameTextField.errorMessage.length>0||""===this.lastNameTextField.text||this.lastNameTextField.errorMessage.length>0||""===this.homePhoneTextField.phone&&this.homePhoneTextField.disabled||this.homePhoneTextField.errorMessage.length>0||""===this.workPhoneTextField.phone&&this.workPhoneTextField.disabled||this.workPhoneTextField.errorMessage.length>0||""===this.mobilePhoneTextField.phone&&this.mobilePhoneTextField.disabled||this.mobilePhoneTextField.errorMessage.length>0||this.isValidatedText(this.rulesForTextField,e)||this.isValidatedText(this.rulesForPhoneNumber,e.slice(2))}},watch:{"homePhoneTextField.disabled"(e){e||(this.homePhoneTextField.phone="",this.homePhoneTextField.errorMessage="")},"workPhoneTextField.disabled"(e){e||(this.workPhoneTextField.phone="",this.workPhoneTextField.errorMessage="")},"mobilePhoneTextField.disabled"(e){e||(this.mobilePhoneTextField.phone="",this.mobilePhoneTextField.errorMessage="")},"firstNameTextField.text"(){this.firstNameTextField.errorMessage=""},"lastNameTextField.text"(){this.lastNameTextField.errorMessage=""},"homePhoneTextField.phone"(){this.homePhoneTextField.errorMessage=""},"workPhoneTextField.phone"(){this.workPhoneTextField.errorMessage=""},"mobilePhoneTextField.phone"(){this.mobilePhoneTextField.errorMessage=""}},methods:{getProgress(e){return Math.min(100,e*this.onePercent255)},getColor(e){const t=255,s=98,o=s-t;let i=this.getComponentColor(s,o,e);const l=37;let r=this.getComponentColor(l,l,e);const n=178;let a=this.getComponentColor(n,n,e);return["rgb("+i+", "+r+", "+a+", 1)"][0]},getComponentColor(e,t,s){const o=255;return Math.floor(e-t/o*s)},isValidatedText(e,t){let s=!1;for(let o=0;o<e.length;o++){for(let i=0;i<t.length;i++)if(s=!0!==e[o](t[i]),s)return s;if(s)return s}return s},addContact(){let e={lastName:this.lastNameTextField.text,firstName:this.firstNameTextField.text,phoneNumbers:[]},t=[this.homePhoneTextField,this.workPhoneTextField,this.mobilePhoneTextField];for(let s=0;s<t.length;s++)!0===t[s].disabled&&e.phoneNumbers.push({phoneType:t[s].phoneType,phone:t[s].phone});this.$store.dispatch("addContact",e).then((e=>{let t=!1;for(let s=0;s<e.length;s++)e[s].message.length>0&&(this.showErrorMessage(e[s]),t=!0);t||(this.firstNameTextField.text="",this.lastNameTextField.text="",this.homePhoneTextField.phone="",this.homePhoneTextField.disabled=!0,this.workPhoneTextField.phone="",this.workPhoneTextField.disabled=!1,this.mobilePhoneTextField.phone="",this.mobilePhoneTextField.disabled=!1)})).catch((e=>{this.$store.commit("enableErrorMessage",e)}))},showErrorMessage(e){const t={firstName:"FirstName",lastName:"LastName",homePhone:"HomePhone",workPhone:"WorkPhone",mobilePhone:"MobilePhone"};switch(e.fieldType){case t.firstName:this.firstNameTextField.errorMessage=e.message;break;case t.lastName:this.lastNameTextField.errorMessage=e.message;break;case t.homePhone:this.homePhoneTextField.errorMessage=e.message;break;case t.workPhone:this.workPhoneTextField.errorMessage=e.message;break;default:this.mobilePhoneTextField.errorMessage=e.message;break}}}},k=P,C=s(1001),v=(0,C.Z)(k,f,T,!1,null,"40bafc18",null),w=v.exports}}]);
//# sourceMappingURL=528.adc6c292.js.map